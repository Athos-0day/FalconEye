# MQTT TLS listener
listener 8883
protocol mqtt

cafile /mosquitto/certs/ca.crt
certfile /mosquitto/certs/server.crt
keyfile /mosquitto/certs/server.key
require_certificate true
tls_version tlsv1.2

# ECDHE cipher suite
ciphers ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384

# WebSocket listener
listener 9001
protocol websockets

# Logging
log_type all
log_type debug
log_dest file /mosquitto/log/mosquitto.log

# Security
allow_anonymous false 
use_identity_as_username false
password_file /mosquitto/config/passwd
acl_file /mosquitto/config/aclfile.conf
